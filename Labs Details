// Add Hangfire services
                builder.Services.AddHangfire(config =>
                config.SetDataCompatibilityLevel(CompatibilityLevel.Version_180)
               .UseSimpleAssemblyNameTypeSerializer()
               .UseRecommendedSerializerSettings()
               .UseSqlServerStorage(builder.Configuration.GetConnectionString("DefaultConnection"))
               .UseActivator(new HangfireActivator(builder.Services.BuildServiceProvider())));

                builder.Services.AddHangfireServer();





 // Use Hangfire dashboard
                app.UseHangfireDashboard("/hangfire", new DashboardOptions
                {
                    Authorization = new[] { new HangfireAuthorizationFilter() }
                }); // /hangfire



RecurringJob.AddOrUpdate<CheckTanksTotalBalance>(
    "StrategicTanksTotalBalanceLessThanOrEqualTo50_8Am",
    service => service.CheckTanksTotalBalanceAsync(53,
                                                    "StrategicTanksTotalBalanceLessThanOrEqualTo50%",
                                                    false,
                                                    25),
    "0 8 * * *", // <-- 08:00 AM
    new RecurringJobOptions
    {
        TimeZone = TimeZoneInfo.Local
    }
);
